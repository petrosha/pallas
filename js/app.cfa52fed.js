(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)r=o[d],s[r]&&h.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var a={},s={app:0},n=[];function r(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=a,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/pallas/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"00c4":function(t,e,i){},"034f":function(t,e,i){"use strict";var a=i("64a9"),s=i.n(a);s.a},"1b8f":function(t,e,i){},"219f":function(t,e,i){"use strict";var a=i("fb5f"),s=i.n(a);s.a},"225c":function(t,e,i){"use strict";var a=i("eaf1"),s=i.n(a);s.a},"23c7":function(t,e,i){},"37fb":function(t,e,i){},4772:function(t,e,i){},"4a5e":function(t,e,i){},"54f3":function(t,e,i){"use strict";var a=i("23c7"),s=i.n(a);s.a},"564e":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d"),i("f9e3"),i("2dd8"),i("9e46");var a=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main_div",attrs:{id:"app"}},[i("b-container",{attrs:{fluid:""}},[i("b-row",[t.main_sw_stat?i("b-col",{class:t.menu_class,attrs:{md:t.main_md,lg:t.main_lg,xl:t.main_xl}},[i("div",{staticClass:"main_screen_inner_box_left"},[i("main-actors"),i("div",{staticClass:"main_menu_div"},[i("main-menu2",{key:t.menuObject.key,attrs:{objid:t.menuObject.obj,small:!t.decor},on:{done:t.main_sw_change}})],1),i("main-settings")],1)]):t._e(),t.main_sw_small?i("b-col",{class:t.object_class,attrs:{md:12-t.main_md,lg:12-t.main_lg,xl:12-t.main_xl}},[i("div",{staticClass:"main_screen_inner_box",style:t.main_screen_inner_box_padding},[t.oneObject?i("main-object",{key:t.oneObject.object.id,attrs:{objid:t.oneObject,decor:t.decor,small:!t.decor}}):t._e()],1)]):t._e()],1)],1),i("div",{staticClass:"main_sw_class",on:{click:t.main_sw_change}},[t.main_sw_stat?i("s-svg1",{staticClass:"main_sw_arr"}):t._e(),t.main_sw_stat?t._e():i("s-svg2",{staticClass:"main_sw_arr"})],1),t.socketGet.wait.show?i("main-spinner",{attrs:{text:t.socketGet.wait.note,error:t.socketGet.wait.error}}):t._e(),t.warningGet.stat?i("main-warning",{attrs:{title:t.warningGet.title,message:t.warningGet.message},on:{done:t.mainWrnDone}}):t._e()],1)},n=[],r=i("f499"),o=i.n(r),c=(i("a481"),i("cebc")),l=i("2f62"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.objOneObject?t._e():i("div",{staticClass:"objAlign"},[t._v("Дождитесь загрузки объекта...")]),t.objOneObject?i("div",[t.objTitle?i("div",{staticClass:"obj_title_div",style:t.objSmallTitle},[i("icon-6xright",{staticClass:"icon_6x"}),i("h2",{staticClass:"obj_title",domProps:{innerHTML:t._s(t.objTitle)}}),t.decor?i("icon-dbl-line-title",{staticClass:"icon_dbl_line_title"}):t._e()],1):t._e(),t.objSubTitle?i("div",{staticClass:"obj_subtitle_div",style:t.objSmallTitle},[i("h4",{staticClass:"obj_subtitle",domProps:{innerHTML:t._s(t.objSubTitle)}})]):t._e(),t.objTemplate?i("div",t._l(t.objTemplate,function(e){return i("div",{staticClass:"obj_templategroup"},[e.name?i("div",{staticClass:"obj_template_title_div",style:t.objSmallTitle},[i("icon-4xright",{staticClass:"icon_4x"}),i("p",{staticClass:"obj_templ_name",domProps:{innerHTML:t._s(e.name)}}),t.decor?i("icon-dbl-line-temp",{staticClass:"icon_dbl_line_temp"}):t._e()],1):t._e(),i("div",{staticClass:"obj_template_body_div"},[e.attributes?i("div",t._l(e.attributes,function(e){return i("s-attribute",{attrs:{attr:t.objOneObject.attributes[e]}})}),1):t._e(),e.actions?i("div",t._l(e.actions,function(e){return i("button",{staticClass:"btn btn-outline-warning obj_action_btn",attrs:{disabled:t.objOneObject.actions[e].disabled},on:{click:function(i){t.objActSwitch(e,i)}}},[i("icon-3xright",{staticClass:"icon_3x_right"}),i("p",{domProps:{innerHTML:t._s(t.objActionNameConv(e))}}),i("icon-3xleft",{staticClass:"icon_3x_left"})],1)}),0):t._e()])])}),0):t._e(),t.objListObject?i("div",{staticClass:"obj_list"},[i("div",{staticClass:"objAlign"},[i("icon-dbl-hr",{staticClass:"obj_list_hr"})],1),t.objListObjectLength?i("span",{staticClass:"objAlign"},[t._v("Список пуст...")]):t._e(),t._l(t.objListObject,function(e,a){return i("div",{staticClass:"obj_list_el",style:t.objSmallList,on:{click:function(i){t.objActiveSet(e.id)}}},[i("in-object",{key:t.objOneObject.id+e.id+JSON.stringify(e),attrs:{objid:e,decor:!1,small:t.small}})],1)}),t.objListMore?i("div",{staticClass:"objAlignV"},[i("icon-dbl-hr",{staticClass:"obj_list_hr"}),i("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){t.sendAskMore(t.objOneObject.id)}}},[t._v("\n          Загрузить еще?\n        ")])],1):t._e()],2):t._e(),t.actStat?i("s-action",{key:t.objOneObject.id+t.actid,attrs:{objid:t.objOneObject,actid:t.actid},on:{done:function(e){t.objActionDone()}}}):t._e(),t.wrnStat?i("s-warning",{attrs:{title:t.wrnMessage},on:{done:t.objWrnDone}}):t._e()],1):t._e()])},d=[],h=i("75fc"),p=(i("ac6a"),i("f386"),i("7f7f"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("p",{staticClass:"attr_desc",domProps:{innerHTML:t._s(t.showValue)}}):t._e()}),b=[],m=i("339e"),f=i.n(m);function _(){var t=new f.a.Converter;return t.setFlavor("github"),t.setOption("simpleLineBreaks",!0),t}function v(t){return t.replace(/&/gm,"&amp;").replace(/>/gm,"&gt;").replace(/</gm,"&lt;").replace(/\\n/gm,"<br>")}function g(t){return t.replace(/(<([^>]+)>)/gim,"")}var j=_(),w={props:["attr"],data:function(){return{}},mounted:function(){},computed:{show:function(){return("string"===typeof this.attr.value||"number"===typeof this.attr.value||"string"===typeof this.attr.name||"number"===typeof this.attr.name)&&!this.attr.hidden},value:function(){var t;return t="string"==typeof this.attr.value_description||"number"==typeof this.attr.value_description?this.attr.value_description:this.attr.value,null===t||void 0===t?"":t},showValue:function(){return"name"in this.attr?j.makeHtml("**"+this.attr.name+":** "+this.value):j.makeHtml(" "+this.value)}}},k=w,y=(i("b58f"),i("2877")),C=Object(y["a"])(k,p,b,!1,null,"cf65990c",null);C.options.__file="attribute.vue";var O=C.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"act_main "},[i("b-container",{attrs:{fluid:""}},[i("b-row",[i("b-col",{staticClass:"act_bcol",attrs:{sd:"1",md:"2",lg:"2"}}),i("b-col",{staticClass:"act_bcol",attrs:{sd:"10",md:"8",lg:"8"}},[i("div",{staticClass:"act_dialog_box"},[t.actActActiveName?i("h2",{staticClass:"act_title titleAlign",domProps:{innerHTML:t._s(t.actActActiveName)}}):t._e(),t._l(t.actActActive.user_params,function(e){return i("div",["integer"===e.type?i("s-parint",{attrs:{par:e},on:{parChange:t.actParChange,par_done:t.actParDone}}):t._e(),"float"===e.type?i("s-parflt",{attrs:{par:e},on:{parChange:t.actParChange,par_done:t.actParDone}}):t._e(),"string"===e.type?i("s-parstr",{attrs:{par:e},on:{parChange:t.actParChange,par_done:t.actParDone}}):t._e(),i("br")],1)}),i("br"),i("div",{staticClass:"btnAlign"},[i("b-button-group",{staticStyle:{width:"300px"}},[i("b-button",{staticStyle:{width:"150px"},attrs:{disabled:t.actValid,variant:"primary"},on:{click:t.actOkBtn}},[t._v("ОК")]),i("b-button",{staticStyle:{width:"150px"},attrs:{variant:"danger"},on:{click:t.actCancel}},[t._v("Отмена")])],1)],1)],2)]),i("b-col",{staticClass:"act_bcol",attrs:{sd:"1",md:"2",lg:"2"}})],1)],1),t.wrnStat?i("s-warning",{attrs:{title:t.actActActive.warning},on:{done:t.actWrnDone}}):t._e()],1)},A=[],x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrn_main "},[i("div",{staticClass:"wrn_box"},[t._m(0),i("div",{staticClass:"wrnAlign"},[i("h2",{staticClass:"wrn_title",domProps:{innerHTML:t._s(t.wrnTitle)}})]),i("br"),i("div",{staticClass:"wrnAlign"},[i("b-button-group",{staticStyle:{width:"300px"}},[i("b-button",{staticClass:"wrnyesnobutton",staticStyle:{width:"150px"},attrs:{variant:"primary"},on:{click:t.wrnActOk}},[t._v(" ОК ")]),i("b-button",{staticClass:"wrnyesnobutton",staticStyle:{width:"150px"},attrs:{variant:"danger"},on:{click:t.wrnActCancel}},[t._v("Отмена")])],1)],1)])])},M=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrnAlign"},[i("h1",{staticClass:"wrn_warning"},[t._v("ВНИМАНИЕ!")]),i("br")])}],T=_(),L={props:["title"],components:{},data:function(){return{cancelbtn:"true"}},methods:{wrnActOk:function(){return this.$emit("done","ok"),!1},wrnActCancel:function(){return this.$emit("done","cancel"),!1}},computed:{wrnTitle:function(){return T.makeHtml(this.title)}}},q=L,E=(i("5acf"),Object(y["a"])(q,x,M,!1,null,"c9b14072",null));E.options.__file="warning.vue";var I=E.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"par_main"},[i("b-container",{attrs:{fluid:""}},[i("b-row",{attrs:{"no-gutters":""}},[i("b-col",{staticClass:"parAlign",attrs:{sd:"auto",md:"auto"}},[i("div",{staticClass:"par_icon_filler"})]),i("b-col",{attrs:{sd:"10",md:"10"}},[t.parDescrShow?i("span",{staticClass:"par_name",domProps:{innerHTML:t._s(t.parDescrShow)}}):t._e()]),i("b-col",{attrs:{sd:"1",md:"1"}})],1),i("b-row",{attrs:{"no-gutters":""}},[i("b-col",{staticClass:"parAlign",attrs:{sd:"auto",md:"auto"}},[t.parSignStyle?i("icon-ok",{staticClass:"par_icon_ok"}):t._e(),t.parSignStyle?t._e():i("icon-cancel",{staticClass:"par_icon_cancel"})],1),i("b-col",{attrs:{sd:"10",md:"10"}},[i("b-input",{ref:"parfield",attrs:{type:"text",formatter:t.parInput},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.parEnter(e):null}},model:{value:t.parValue,callback:function(e){t.parValue=e},expression:"parValue"}})],1),i("b-col",{attrs:{sd:"1",md:"1"}},[i("b-button",{directives:[{name:"show",rawName:"v-show",value:t.parDefault,expression:"parDefault"}],attrs:{variant:"outline-info"},on:{click:t.parSetDefault}},[t._v("\n          Default\n        ")])],1)],1),i("b-row",{attrs:{"no-gutters":""}},[i("b-col",{staticClass:"parAlign",attrs:{sd:"auto",md:"auto"}},[i("div",{staticClass:"par_icon_filler"})]),i("b-col",{attrs:{sd:"10",md:"10"}},[t.parSignStyle?t._e():i("span",{staticClass:"par_warning"},[t._v(t._s(t.parWarning))])]),i("b-col",{attrs:{sd:"1",md:"1"}})],1)],1)],1)},V=[],N=i("e814"),$=i.n(N),G=(i("6b54"),i("8bd2")),D=i.n(G),z={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 26"}},[i("path",{attrs:{d:"M13 .188C5.926.188.187 5.926.187 13c0 7.074 5.739 12.813 12.813 12.813 7.074 0 12.813-5.739 12.813-12.813C25.813 5.926 20.073.187 13 .187zm6.734 8.847l-6.87 10.133c-.204.3-.528.504-.848.504-.32 0-.672-.176-.899-.399l-4.031-4.035a.707.707 0 0 1 0-.996l.996-.996a.703.703 0 0 1 .992 0l2.625 2.621 5.703-8.414a.712.712 0 0 1 .98-.187l1.169.793a.706.706 0 0 1 .183.976z"}})])}},P={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 26"}},[i("path",{attrs:{d:"M13 .188C5.926.188.187 5.926.187 13c0 7.074 5.739 12.813 12.813 12.813 7.074 0 12.813-5.739 12.813-12.813C25.813 5.926 20.073.187 13 .187zm5.781 17.207l-1.39 1.386a.653.653 0 0 1-.922 0L13 15.313 9.531 18.78a.65.65 0 0 1-.922-.004l-1.39-1.382a.665.665 0 0 1 0-.926L10.687 13 7.223 9.535a.658.658 0 0 1 0-.926l1.386-1.386a.65.65 0 0 1 .926 0L13 10.688l3.469-3.465a.646.646 0 0 1 .922 0l1.39 1.382a.663.663 0 0 1 0 .93L15.313 13l3.468 3.469c.25.258.25.668 0 .926z"}})])}},W=_(),R={props:["par"],components:{"icon-ok":z,"icon-cancel":P},data:function(){return{parValue:"",parInt:NaN,parValid:0,parMin:-D.a,parMax:D.a,parInputState:!1}},mounted:function(){isNaN(this.par.value)?"default_value"in this.par&&(this.parValue=this.par.default_value):this.parValue=this.par.value,"restrictions"in this.par&&("max_value"in this.par.restrictions&&(this.parMax=this.par.restrictions.max_value),"min_value"in this.par.restrictions&&(this.parMin=this.par.restrictions.min_value)),this.parIsChanged()},methods:{parInput:function(t){return this.parValue=t.toString().replace(/[^0-9\-]/gm,""),this.parIsChanged(),this.parValue},parIsChanged:function(){var t=$()(this.parValue,10);this.parInt!=t&&(this.parInt=t,this.parEmit());var e=this.parIsValid();this.parValid!=e&&(this.parValid=e,this.parEmit())},parIsValid:function(){return isNaN(this.parInt)?0:this.parMax<this.parInt?0:this.parMin>this.parInt?0:1},parEmit:function(){this.$emit("parChange",{code:this.par.code,value:this.parInt,valid:this.parValid})},parEnter:function(){this.$emit("par_done")},parSetDefault:function(){this.parValue=this.par.default_value,this.parIsChanged()}},computed:{parDescrShow:function(){return"description"in this.par&&W.makeHtml(this.par.description)},parSignStyle:function(){return 0!==this.parValid},parDefault:function(){return"default_value"in this.par&&this.par.default_value},parWarning:function(){var t="Целое число. ";return this.parMin>-D.a&&(t=t+"Минимум: "+this.parMin),this.parMax<D.a&&(t=t+"   Максимум: "+this.parMax),t}}},B=R,F=(i("9c19"),Object(y["a"])(B,H,V,!1,null,"0e99a02b",null));F.options.__file="par_int.vue";var U=F.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"par_main"},[i("b-container",{attrs:{fluid:""}},[i("b-row",{attrs:{"no-gutters":""}},[i("b-col",{staticClass:"parAlign",attrs:{sd:"auto",md:"auto"}},[i("div",{staticClass:"par_icon_filler"})]),i("b-col",{attrs:{sd:"10",md:"10"}},[t.parDescrShow?i("span",{staticClass:"par_name",domProps:{innerHTML:t._s(t.parDescrShow)}}):t._e()]),i("b-col",{attrs:{sd:"1",md:"1"}})],1),i("b-row",{attrs:{"no-gutters":""}},[i("b-col",{staticClass:"parAlign",attrs:{sd:"auto",md:"auto"}},[t.parSignStyle?i("icon-ok",{staticClass:"par_icon_ok"}):t._e(),t.parSignStyle?t._e():i("icon-cancel",{staticClass:"par_icon_cancel"})],1),i("b-col",{attrs:{sd:"10",md:"10"}},[i("b-input",{ref:"parfield",attrs:{type:"text",formatter:t.parInput},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.parEnter(e):null}},model:{value:t.parValue,callback:function(e){t.parValue=e},expression:"parValue"}})],1),i("b-col",{attrs:{sd:"1",md:"1"}},[i("b-button",{directives:[{name:"show",rawName:"v-show",value:t.parDefault,expression:"parDefault"}],attrs:{variant:"outline-info"},on:{click:t.parSetDefault}},[t._v("\n          Default\n        ")])],1)],1),i("b-row",{attrs:{"no-gutters":""}},[i("b-col",{staticClass:"parAlign",attrs:{sd:"auto",md:"auto"}},[i("div",{staticClass:"par_icon_filler"})]),i("b-col",{attrs:{sd:"10",md:"10"}},[t.parSignStyle?t._e():i("span",{staticClass:"par_warning"},[t._v(t._s(t.parWarning))])]),i("b-col",{attrs:{sd:"1",md:"1"}})],1)],1)],1)},K=[],X=i("59ad"),Q=i.n(X),Y=(i("c5f6"),_()),Z={props:["par"],components:{"icon-ok":z,"icon-cancel":P},data:function(){return{parValue:"",parInt:NaN,parValid:0,parMin:-Number.MAX_VALUE,parMax:Number.MAX_VALUE,parInputState:!1}},mounted:function(){isNaN(this.par.value)?"default_value"in this.par&&(this.parValue=this.par.default_value):this.parValue=this.par.value,"restrictions"in this.par&&("max_value"in this.par.restrictions&&(this.parMax=this.par.restrictions.max_value),"min_value"in this.par.restrictions&&(this.parMin=this.par.restrictions.min_value)),this.parIsChanged()},methods:{parInput:function(t){return this.parValue=t.toString().replace(/[^0-9\-\.]/gm,""),this.parIsChanged(),this.parValue},parIsChanged:function(){var t=Q()(this.parValue);this.parInt!=t&&(this.parInt=t,this.parEmit());var e=this.parIsValid();this.parValid!=e&&(this.parValid=e,this.parEmit())},parIsValid:function(){return isNaN(this.parInt)?0:this.parMax<this.parInt?0:this.parMin>this.parInt?0:1},parEnter:function(){this.$emit("par_done")},parEmit:function(){this.$emit("parChange",{code:this.par.code,value:this.parInt,valid:this.parValid})},parSetDefault:function(){this.parValue=this.par.default_value,this.parIsChanged()}},computed:{parDescrShow:function(){return"description"in this.par&&Y.makeHtml(this.par.description)},parSignStyle:function(){return 0!==this.parValid},parDefault:function(){return"default_value"in this.par&&this.par.default_value},parWarning:function(){var t="Любое число. ";return this.parMin>-Number.MAX_VALUE&&(t=t+"Минимум: "+this.parMin),this.parMax<Number.MAX_VALUE&&(t=t+" Максимум: "+this.parMax),t}}},tt=Z,et=(i("225c"),Object(y["a"])(tt,J,K,!1,null,"08843c84",null));et.options.__file="par_flt.vue";var it=et.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"par_main"},[i("b-container",{attrs:{fluid:""}},[i("b-row",{attrs:{"no-gutters":""}},[i("b-col",{staticClass:"parAlign",attrs:{sd:"auto",md:"auto"}},[i("div",{staticClass:"par_icon_filler"})]),i("b-col",{attrs:{sd:"10",md:"10"}},[t.parDescrShow?i("span",{staticClass:"par_name",domProps:{innerHTML:t._s(t.parDescrShow)}}):t._e()]),i("b-col",{attrs:{sd:"1",md:"1"}})],1),i("b-row",{attrs:{"no-gutters":""}},[i("b-col",{class:t.parAlignStyle,attrs:{sd:"auto",md:"auto"}},[t.parSignStyle?i("icon-ok",{staticClass:"par_icon_ok"}):t._e(),t.parSignStyle?t._e():i("icon-cancel",{staticClass:"par_icon_cancel"})],1),i("b-col",{attrs:{sd:"10",md:"10"}},[t.parMulti?t._e():i("b-input",{attrs:{type:"text",value:t.parValue},on:{input:t.parInput},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.parEnter(e):null}}}),t.parMulti?i("div",{staticClass:"form-control par_textarea"},[i("s-editor",{attrs:{id:t.par.code,value:t.parValue,editorOptions:t.editorSettings,editorToolbar:t.editorToolbar,useCustomImageHandler:""},on:{input:t.parInput,imageAdded:t.handleImageAdded}})],1):t._e()],1),i("b-col",{attrs:{sd:"1",md:"1"}},[i("b-button",{directives:[{name:"show",rawName:"v-show",value:t.parDefault,expression:"parDefault"}],attrs:{variant:"outline-info"},on:{click:t.parSetDefault}},[t._v("\n          Default\n        ")])],1)],1),i("b-row",{attrs:{"no-gutters":""}},[i("b-col",{staticClass:"parAlign",attrs:{sd:"auto",md:"auto"}},[i("div",{staticClass:"par_icon_filler"})]),i("b-col",{attrs:{sd:"10",md:"10"}},[t.parSignStyle?t._e():i("span",{staticClass:"par_warning"},[t._v(t._s(t.parWarning))])]),i("b-col",{attrs:{sd:"1",md:"1"}})],1)],1)],1)},st=[],nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"quillWrapper"},[t._t("toolbar"),i("div",{ref:"quillContainer",attrs:{id:t.id}}),t.useCustomImageHandler?i("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{id:"file-upload",type:"file",accept:"image/*"},on:{change:function(e){t.emitImageInfo(e)}}}):t._e()],2)},rt=[],ot=i("a4bb"),ct=i.n(ot),lt=i("9339"),ut=i.n(lt),dt=[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image","video"],["clean"]],ht=dt,pt=i("da81"),bt=i.n(pt),mt={props:{customModules:Array},methods:{registerCustomModules:function(t){void 0!==this.customModules&&this.customModules.forEach(function(e){t.register("modules/"+e.alias,e.module)})}}},ft=i("5d73"),_t=i.n(ft),vt=i("768b"),gt=(i("386d"),i("4917"),i("b0b4")),jt=i("d225"),wt=i("308d"),kt=i("6bb5"),yt=i("4e2b"),Ct=ut.a.import("blots/block/embed"),Ot=function(t){function e(){return Object(jt["a"])(this,e),Object(wt["a"])(this,Object(kt["a"])(e).apply(this,arguments))}return Object(yt["a"])(e,t),e}(Ct);Ot.blotName="hr",Ot.tagName="hr",ut.a.register("formats/horizontal",Ot);var St=function(){function t(e,i){var a=this;Object(jt["a"])(this,t),this.quill=e,this.options=i,this.ignoreTags=["PRE"],this.matches=[{name:"header",pattern:/^(#){1,6}\s/g,action:function(t,e,i){var s=i.exec(t);if(s){var n=s[0].length;setTimeout(function(){a.quill.formatLine(e.index,0,"header",n-1),a.quill.deleteText(e.index-n,n)},0)}}},{name:"blockquote",pattern:/^(>)\s/g,action:function(t,e){setTimeout(function(){a.quill.formatLine(e.index,1,"blockquote",!0),a.quill.deleteText(e.index-2,2)},0)}},{name:"code-block",pattern:/^`{3}(?:\s|\n)/g,action:function(t,e){setTimeout(function(){a.quill.formatLine(e.index,1,"code-block",!0),a.quill.deleteText(e.index-4,4)},0)}},{name:"bolditalic",pattern:/(?:\*|_){3}(.+?)(?:\*|_){3}/g,action:function(t,e,i,s){var n=i.exec(t),r=n[0],o=n[1],c=s+n.index;t.match(/^([*_ \n]+)$/g)||setTimeout(function(){a.quill.deleteText(c,r.length),a.quill.insertText(c,o,{bold:!0,italic:!0}),a.quill.format("bold",!1)},0)}},{name:"bold",pattern:/(?:\*|_){2}(.+?)(?:\*|_){2}/g,action:function(t,e,i,s){var n=i.exec(t),r=n[0],o=n[1],c=s+n.index;t.match(/^([*_ \n]+)$/g)||setTimeout(function(){a.quill.deleteText(c,r.length),a.quill.insertText(c,o,{bold:!0}),a.quill.format("bold",!1)},0)}},{name:"italic",pattern:/(?:\*|_){1}(.+?)(?:\*|_){1}/g,action:function(t,e,i,s){var n=i.exec(t),r=n[0],o=n[1],c=s+n.index;t.match(/^([*_ \n]+)$/g)||setTimeout(function(){a.quill.deleteText(c,r.length),a.quill.insertText(c,o,{italic:!0}),a.quill.format("italic",!1)},0)}},{name:"strikethrough",pattern:/(?:~~)(.+?)(?:~~)/g,action:function(t,e,i,s){var n=i.exec(t),r=n[0],o=n[1],c=s+n.index;t.match(/^([*_ \n]+)$/g)||setTimeout(function(){a.quill.deleteText(c,r.length),a.quill.insertText(c,o,{strike:!0}),a.quill.format("strike",!1)},0)}},{name:"code",pattern:/(?:`)(.+?)(?:`)/g,action:function(t,e,i,s){var n=i.exec(t),r=n[0],o=n[1],c=s+n.index;t.match(/^([*_ \n]+)$/g)||setTimeout(function(){a.quill.deleteText(c,r.length),a.quill.insertText(c,o,{code:!0}),a.quill.format("code",!1),a.quill.insertText(a.quill.getSelection()," ")},0)}},{name:"hr",pattern:/^([-*]\s?){3}/g,action:function(t,e){var i=e.index-t.length;setTimeout(function(){a.quill.deleteText(i,t.length),a.quill.insertEmbed(i+1,"hr",!0,ut.a.sources.USER),a.quill.insertText(i+2,"\n",ut.a.sources.SILENT),a.quill.setSelection(i+2,ut.a.sources.SILENT)},0)}},{name:"asterisk-ul",pattern:/^(\*|\+)\s$/g,action:function(t,e,i){setTimeout(function(){a.quill.formatLine(e.index,1,"list","unordered"),a.quill.deleteText(e.index-2,2)},0)}},{name:"image",pattern:/(?:!\[(.+?)\])(?:\((.+?)\))/g,action:function(t,e,i){var s=t.search(i),n=t.match(i)[0],r=t.match(/(?:\((.*?)\))/g)[0],o=e.index-n.length-1;-1!==s&&setTimeout(function(){a.quill.deleteText(o,n.length),a.quill.insertEmbed(o,"image",r.slice(1,r.length-1))},0)}},{name:"link",pattern:/(?:\[(.+?)\])(?:\((.+?)\))/g,action:function(t,e,i){var s=t.search(i),n=t.match(i)[0],r=t.match(/(?:\[(.*?)\])/g)[0],o=t.match(/(?:\((.*?)\))/g)[0],c=e.index-n.length-1;-1!==s&&setTimeout(function(){a.quill.deleteText(c,n.length),a.quill.insertText(c,r.slice(1,r.length-1),"link",o.slice(1,o.length-1))},0)}}],this.quill.on("text-change",function(t,e,i){for(var s=0;s<t.ops.length;s++)t.ops[s].hasOwnProperty("insert")&&(" "===t.ops[s].insert?a.onSpace():"\n"===t.ops[s].insert&&a.onEnter())})}return Object(gt["a"])(t,[{key:"isValid",value:function(t,e){return"undefined"!==typeof t&&t&&-1===this.ignoreTags.indexOf(e)}},{key:"onSpace",value:function(){var t=this.quill.getSelection();if(t){var e=this.quill.getLine(t.index),i=Object(vt["a"])(e,2),a=i[0],s=i[1],n=a.domNode.textContent,r=t.index-s;if(this.isValid(n,a.domNode.tagName)){var o=!0,c=!1,l=void 0;try{for(var u,d=_t()(this.matches);!(o=(u=d.next()).done);o=!0){var h=u.value,p=n.match(h.pattern);if(p)return console.log("matched:",h.name,n),void h.action(n,t,h.pattern,r)}}catch(b){c=!0,l=b}finally{try{o||null==d.return||d.return()}finally{if(c)throw l}}}}}},{key:"onEnter",value:function(){var t=this.quill.getSelection();if(t){var e=this.quill.getLine(t.index),i=Object(vt["a"])(e,2),a=i[0],s=i[1],n=a.domNode.textContent+" ",r=t.index-s;if(t.length=t.index++,this.isValid(n,a.domNode.tagName)){var o=!0,c=!1,l=void 0;try{for(var u,d=_t()(this.matches);!(o=(u=d.next()).done);o=!0){var h=u.value,p=n.match(h.pattern);if(p)return console.log("matched",h.name,n),void h.action(n,t,h.pattern,r)}}catch(b){c=!0,l=b}finally{try{o||null==d.return||d.return()}finally{if(c)throw l}}}}}}]),t}(),At=St,xt=window.Quill||ut.a,Mt={name:"VueEditor",mixins:[mt],props:{id:{type:String,default:"quill-container"},placeholder:{type:String,default:""},value:{type:String,default:""},disabled:{type:Boolean},editorToolbar:Array,editorOptions:{type:Object,required:!1,default:function(){return{}}},useCustomImageHandler:{type:Boolean,default:!1},useMarkdownShortcuts:{type:Boolean,default:!1}},data:function(){return{quill:null}},mounted:function(){this.registerCustomModules(xt),this.registerPrototypes(),this.initializeEditor()},methods:{initializeEditor:function(){this.setupQuillEditor(),this.checkForCustomImageHandler(),this.handleInitialContent(),this.registerEditorEventListeners(),this.$emit("ready",this.quill)},setupQuillEditor:function(){var t={debug:!1,modules:this.setModules(),theme:"snow",placeholder:this.placeholder?this.placeholder:"",readOnly:!!this.disabled&&this.disabled};this.prepareEditorConfig(t),this.quill=new xt(this.$refs.quillContainer,t)},setModules:function(){var t={toolbar:this.editorToolbar?this.editorToolbar:ht};return this.useMarkdownShortcuts&&(xt.register("modules/markdownShortcuts",At,!0),t["markdownShortcuts"]={}),t},prepareEditorConfig:function(t){ct()(this.editorOptions).length>0&&this.editorOptions.constructor===Object&&(this.editorOptions.modules&&"undefined"!==typeof this.editorOptions.modules.toolbar&&delete t.modules.toolbar,bt()(t,this.editorOptions))},registerPrototypes:function(){xt.prototype.getHTML=function(){return this.container.querySelector(".ql-editor").innerHTML},xt.prototype.getWordCount=function(){return this.container.querySelector(".ql-editor").innerText.length}},registerEditorEventListeners:function(){this.quill.on("text-change",this.handleTextChange),this.quill.on("selection-change",this.handleSelectionChange),this.listenForEditorEvent("text-change"),this.listenForEditorEvent("selection-change"),this.listenForEditorEvent("editor-change")},listenForEditorEvent:function(t){var e=this;this.quill.on(t,function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];e.$emit.apply(e,[t].concat(a))})},handleInitialContent:function(){this.value&&(this.quill.root.innerHTML=this.value)},handleSelectionChange:function(t,e){!t&&e?this.$emit("blur",this.quill):t&&!e&&this.$emit("focus",this.quill)},handleTextChange:function(){var t="<p><br></p>"===this.quill.getHTML()?"":this.quill.getHTML();this.$emit("input",t)},checkForCustomImageHandler:function(){!0===this.useCustomImageHandler&&this.setupCustomImageHandler()},setupCustomImageHandler:function(){var t=this.quill.getModule("toolbar");t.addHandler("image",this.customImageHandler)},customImageHandler:function(t,e){this.$refs.fileInput.click()},emitImageInfo:function(t){var e=function(){var t=document.getElementById("file-upload");t.value=""},i=t.target.files[0],a=this.quill,s=a.getSelection(),n=s.index;this.$emit("imageAdded",i,a,n,e)}},watch:{value:function(t){t==this.quill.root.innerHTML||this.quill.hasFocus()||(this.quill.root.innerHTML=t)},disabled:function(t){this.quill.enable(!t)}},beforeDestroy:function(){this.quill=null,delete this.quill}},Tt=Mt,Lt=(i("fa43"),i("219f"),Object(y["a"])(Tt,nt,rt,!1,null,null,null));Lt.options.__file="VueEditor.vue";var qt=Lt.exports,Et=i("bc3a"),It=i.n(Et),Ht=_(),Vt={props:["par"],components:{"s-editor":qt,"icon-ok":z,"icon-cancel":P},data:function(){return{parValue:"",parInt:"",parValid:0,parMin:0,parMax:D.a,parInputState:"none",parMulti:!1,editorSettings:{},editorToolbar:[["bold","italic","strike"],["image","link"]]}},mounted:function(){"restrictions"in this.par&&("max_length"in this.par.restrictions&&(this.parMax=this.par.restrictions.max_length),"min_length"in this.par.restrictions&&(this.parMin=this.par.restrictions.min_length),"multiline"in this.par.restrictions&&(this.parMulti=this.par.restrictions.multiline)),this.par.value.length>0?this.parMulti?this.parValue=Ht.makeHtml(this.par.value):this.parValue=this.par.value:"default_value"in this.par&&(this.parValue=this.parDefault),this.parIsChanged()},methods:{handleImageAdded:function(t,e,i,a){var s=new FormData;s.append("image",t);var n="http://"+this.socketGet.serverAddress+"/images";It()({url:n,method:"POST",data:s}).then(function(t){var s=t.data.filename;e.insertEmbed(i,"image",n+"/"+s),a()}).catch(function(t){console.log(t)})},parInput:function(t){return this.parValue=t.toString(),this.parIsChanged(),this.parValue},parIsChanged:function(){var t;t=this.parMulti?Ht.makeMarkdown(this.parValue).replace(/\n\n/gm,"\n").replace(/<br>/gm,""):this.parValue,0!=this.parInt.localeCompare(t)&&(this.parInt=t,console.log("parInt: "+o()(t)),this.parEmit());var e=this.parIsValid();this.parValid!=e&&(this.parValid=e,this.parEmit())},parIsValid:function(){return this.parMax<g(this.parValue).length?0:this.parMin>g(this.parValue).length?0:1},parEmit:function(){this.$emit("parChange",{code:this.par.code,value:this.parInt,valid:this.parValid})},parEnter:function(){this.$emit("par_done")},parSetDefault:function(){this.parValue=this.par.default_value,this.parIsChanged()}},computed:Object(c["a"])({},Object(l["c"])(["socketGet"]),{parDescrShow:function(){return"description"in this.par&&Ht.makeHtml(this.par.description)},parAlignStyle:function(){return this.parMulti?"parAlignT":"parAlign"},parSignStyle:function(){return 0!==this.parValid},parDefault:function(){return"default_value"in this.par&&(this.parMulti?Ht.makeHtml(this.par.default_value):this.par.default_value)},parWarning:function(){var t="Любой текст. ";return this.parMin>0&&(t=t+"Минимум "+this.parMin+", "),this.parMax<D.a&&(t=t+"максимум "+this.parMax+" символов."),t}})},Nt=Vt,$t=(i("fe16"),Object(y["a"])(Nt,at,st,!1,null,"11898641",null));$t.options.__file="par_str.vue";var Gt=$t.exports,Dt=i("8c4f"),zt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Pt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrnAlign"},[i("h1",{staticClass:"wrn_warning"},[t._v("Ошибка!")])])}],Wt={data:function(){return{}}},Rt=Wt,Bt=(i("bea2"),Object(y["a"])(Rt,zt,Pt,!1,null,"ad7227c0",null));Bt.options.__file="404.vue";Bt.exports;a["a"].use(Dt["a"]);var Ft=[],Ut=new Dt["a"]({base:"/pallas",routes:Ft}),Jt=_(),Kt={props:["objid","actid"],components:{"s-parint":U,"s-parflt":it,"s-parstr":Gt,"s-warning":I},data:function(){return{wrnStat:!1,objInfo:{actid:this.actid,obj:this.objid}}},created:function(){this.parSet(this.objInfo)},methods:Object(c["a"])({},Object(l["d"])(["parSet","parChange"]),Object(l["b"])(["sendAct"]),{actWrnDone:function(t){this.wrnStat=!1,"ok"===t&&this.actSend()},actCancel:function(){return Ut.beforeHooks.length=0,this.$emit("done"),!1},actSend:function(){Ut.beforeHooks.length=0,this.sendAct(this.objInfo),this.$emit("done")},actParDone:function(){this.actValid||this.actOkBtn()},actOkBtn:function(){"warning"in this.actActActive?this.wrnStat=!0:this.actSend()},actParChange:function(t){this.parChange({objInfo:this.objInfo,data:t})}}),computed:{actOneObject:function(){return this.objInfo.obj},actActActive:function(){return this.objInfo.actid in this.actOneObject.actions?this.actOneObject.actions[this.objInfo.actid]:(console.log("Action: Wrong Action: "+this.objInfo.actid),this.$emit("done"),!1)},actActActiveName:function(){return!!(this.actActActive&&"name"in this.actActActive)&&Jt.makeHtml(this.actActActive.name)},actValid:function(){return 0==this.actActActive.valid},actName:function(){return"name"in this.actActActive&&this.actActActive.name}}},Xt=Kt,Qt=(i("9cde"),Object(y["a"])(Xt,S,A,!1,null,"2e7e949a",null));Qt.options.__file="action.vue";var Yt=Qt.exports,Zt={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 39.94 335.57"}},[i("path",{staticClass:"cls-16",attrs:{"stroke-width":"2",fill:"rgba(51,153,255,.11)",stroke:"rgba(51,153,255,.75)",d:"M0 335.57V0h0l39.94 39.94v255.7L0 335.57h0z"}}),i("path",{staticClass:"cls-5",attrs:{fill:"#39f",d:"M12.47 94.92v16l15-32-15-32v16l7.5 16zM12.47 185.23v16l15-32-15-32v16l7.5 16zM12.47 275.54v16l15-32-15-32v16l7.5 16z"}})])}},te={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 27.25 60.19"}},[i("path",{staticClass:"cls-5",attrs:{d:"M27.25 0l-6.5 5.47H0V0zM27.25 10.94l-6.5 5.47H0v-5.47zM27.25 21.88l-6.5 5.48H0v-5.48zM27.25 32.83l-6.5 5.47H0v-5.47zM27.25 43.77l-6.5 5.48H0v-5.48zM27.25 54.72l-6.5 5.47H0v-5.47z"}})])}},ee={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 268.761 30.29"}},[i("g",{staticClass:"cls-34",attrs:{transform:"translate(-1642.589 -40.29)",opacity:".56"}},[i("circle",{staticClass:"cls-35",attrs:{cx:"1635.48",cy:"49.54",r:"7.37",transform:"rotate(-34.06 1646.311 24.34)",fill:"none",stroke:"#39f","stroke-width":"3","stroke-miterlimit":"10"}}),i("path",{staticClass:"cls-35",attrs:{fill:"none",stroke:"#39f","stroke-width":"3","stroke-miterlimit":"10",d:"M1911.35 50.84h-70.5l-15.52-9.05h-108.74l-14.73 9.55h-44.1"}})]),i("g",{staticClass:"cls-34",attrs:{transform:"translate(-1642.589 -40.29)",opacity:".56"}},[i("circle",{staticClass:"cls-35",attrs:{cx:"1747.86",cy:"60.04",r:"7.37",fill:"none",stroke:"#39f","stroke-width":"3","stroke-miterlimit":"10"}}),i("path",{staticClass:"cls-35",attrs:{fill:"none",stroke:"#39f","stroke-width":"3","stroke-miterlimit":"10",d:"M1910.6 69.08h-71.5l-15.52-9.04h-68.74"}})])])}},ie={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"5 0 27.25 38.31"}},[i("path",{staticClass:"cls-5",staticStyle:{isolation:"isolate"},attrs:{fill:"#39f",d:"M0 5.48V0h27.25l-6.5 5.48zM0 16.42v-5.47h27.25l-6.5 5.47zM0 27.36v-5.47h27.25l-6.5 5.47zM0 38.31v-5.47h27.25l-6.5 5.47z"}})])}},ae={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21.25 27.37"}},[i("path",{staticClass:"cls-5",staticStyle:{isolation:"isolate"},attrs:{fill:"#39f",d:"M6.5 5.48h14.75V0H0zM6.5 16.42h14.75v-5.47H0zM6.5 27.37h14.75v-5.48H0z"}})])}},se={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21.25 27.37"}},[i("g",{staticClass:"cls-34",attrs:{transform:"translate(-2037.517 -169.037)"}},[i("circle",{staticClass:"cls-35",attrs:{transform:"rotate(-34.06 1646.311 24.34)",r:"7.37",cy:"49.54",cx:"1635.48"}}),i("path",{staticClass:"cls-35",attrs:{d:"M1911.35 50.84h-70.5l-15.52-9.05h-108.74l-14.73 9.55h-44.1"}})]),i("g",{staticClass:"cls-34",attrs:{transform:"translate(-2037.517 -169.037)"}},[i("circle",{staticClass:"cls-35",attrs:{r:"7.37",cy:"60.04",cx:"1747.86"}}),i("path",{staticClass:"cls-35",attrs:{d:"M1910.6 69.08h-71.5l-15.52-9.04h-68.74"}})]),i("path",{staticClass:"cls-5",staticStyle:{isolation:"isolate"},attrs:{fill:"#39f",d:"M21.25 0l-6.5 5.48H0V0h21.25zM21.25 10.95l-6.5 5.47H0v-5.47h21.25zM21.25 21.89l-6.5 5.48H0v-5.48h21.25z"}})])}},ne={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 322.72 49.25"}},[i("g",{staticClass:"cls-34",staticStyle:{isolation:"isolate"},attrs:{transform:"translate(-1588.28 -189.09)",opacity:".56"}},[i("path",{staticClass:"cls-35",attrs:{fill:"none",stroke:"#39f","stroke-width":"3","stroke-miterlimit":"10",d:"M1911 207.5h-230.74l-11.63-9.54h-64.11"}}),i("circle",{staticClass:"cls-35",attrs:{r:"7.37",cy:"197.96",cx:"1597.15",fill:"none",stroke:"#39f","stroke-width":"3","stroke-miterlimit":"10"}})]),i("g",{staticClass:"cls-34",staticStyle:{isolation:"isolate"},attrs:{transform:"translate(-1588.28 -189.09)",opacity:".56"}},[i("path",{staticClass:"cls-35",attrs:{fill:"none",stroke:"#39f","stroke-width":"3","stroke-miterlimit":"10",d:"M1911 218.7h-99.71l-18.25 11.49h-73.22"}}),i("circle",{staticClass:"cls-35",attrs:{r:"7.37",cy:"229.47",cx:"1712.45",fill:"none",stroke:"#39f","stroke-width":"3","stroke-miterlimit":"10"}})])])}},re={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 751.2 35.259"}},[i("g",{attrs:{transform:"translate(9.98 -420.618)"}},[i("circle",{staticClass:"cls-35",attrs:{r:"7.37",cy:"429.488",cx:"-1.111",fill:"none",stroke:"#3398ff","stroke-width":"3","stroke-miterlimit":"10","stroke-opacity":".761"}}),i("circle",{staticClass:"cls-35",attrs:{r:"7.37",cy:"429.488",cx:"732.349",fill:"none",stroke:"#39f","stroke-width":"3","stroke-miterlimit":"10","stroke-opacity":".761"}}),i("path",{attrs:{d:"M5.62 429.488h719.285",fill:"none","fill-rule":"evenodd",stroke:"#39f","stroke-width":"2","stroke-opacity":".761"}})]),i("g",{attrs:{transform:"translate(27.48 -438.618)"}},[i("circle",{staticClass:"cls-35",attrs:{r:"7.37",cy:"465.007",cx:"84.604",fill:"none",stroke:"#3398ff","stroke-width":"3","stroke-miterlimit":"10","stroke-opacity":".761"}}),i("circle",{staticClass:"cls-35",attrs:{r:"7.37",cy:"465.007",cx:"611.635",fill:"none",stroke:"#39f","stroke-width":"3","stroke-miterlimit":"10","stroke-opacity":".761"}}),i("path",{attrs:{d:"M93.476 465.007h509.286",fill:"none","fill-rule":"evenodd",stroke:"#39f","stroke-width":"1.683","stroke-opacity":".761"}})])])}},oe={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 41.94 127.074"}},[i("path",{attrs:{d:"M1.505 125.66L1 125.155h0V.707h0l39.94 39.94v45.588z",opacity:".74",fill:"#1c2b51",stroke:"#479aff","stroke-width":"2","stroke-miterlimit":"10"}}),i("path",{staticClass:"cls-5",attrs:{fill:"#39f",d:"M13.47 31.537v16l7.5 16-7.5 16v16l15-32z"}})])}},ce=_(),le={props:["objid","decor","small"],name:"in-object",components:{"s-attribute":O,"s-action":Yt,"s-dblright":Zt,"s-warning":I,"icon-6xright":te,"icon-dbl-line-title":ee,"icon-4xright":ie,"icon-3xleft":ae,"icon-3xright":se,"icon-dbl-line-temp":ne,"icon-dbl-hr":re,"icon-single":oe},data:function(){return{AttrList:{used:["title","subtitle"],unused:[],actused:[],actunused:[]},actStat:!1,actid:!1,obj:this.objid,wrnStat:!1,wrnMessage:""}},created:function(){this.objAttrClean()},methods:Object(c["a"])({},Object(l["b"])(["sendAct","sendOpenList","sendAskMore"]),{objAttrClean:function(){this.AttrList.used=["title","subtitle"],this.AttrList.unused=[],this.AttrList.actused=[],this.AttrList.actunused=[]},objActiveSet:function(t){this.sendOpenList({objid:this.obj.object.id,listid:t})},objActSwitch:function(t,e){return e.stopPropagation(),this.actid=t,"user_params"in this.objOneObject.actions[t]?(Ut.beforeEach(function(t,e,i){i(!1)}),this.actStat=!0):"warning"in this.objOneObject.actions[t]?(Ut.beforeEach(function(t,e,i){i(!1)}),this.wrnMessage=this.objOneObject.actions[t].warning,this.wrnStat=!0):(this.sendAct({actid:this.actid,obj:this.objOneObject}),this.actid=!1,this.actStat=!1),!1},objWrnDone:function(t){Ut.beforeHooks.length=0,this.wrnStat=!1,this.wrnMessage="","ok"===t&&this.sendAct({actid:this.actid,obj:this.objOneObject})},objActionDone:function(){return Ut.beforeHooks.length=0,this.actid=!1,this.actStat=!1,!1},objActionNameConv:function(t){return ce.makeHtml(this.objOneObject.actions[t].name)}}),computed:{objSmallTitle:function(){return this.small?"padding-left:25px;":""},objSmallList:function(){return this.small?"padding-left:5px;":""},objOneObject:function(){return!!this.obj&&("object"in this.obj?this.obj.object:this.obj)},objListObject:function(){return"list"in this.obj&&"objects"in this.obj.list&&this.obj.list.objects},objListMore:function(){return"list"in this.obj&&"has_more"in this.obj.list&&this.obj.list.has_more},objListObjectLength:function(){return!(!this.objListObject||0!==this.objListObject.length)},objAttributes:function(){return"attributes"in this.objOneObject&&this.objOneObject.attributes},objActions:function(){return"actions"in this.objOneObject&&this.objOneObject.actions},objTitle:function(){return!!(this.objAttributes&&"title"in this.objAttributes)&&("value_description"in this.objAttributes.title?ce.makeHtml(strthis.objAttributes.title.value_description):ce.makeHtml(this.objAttributes.title.value))},objSubTitle:function(){return!!(this.objAttributes&&"subtitle"in this.objAttributes)&&("value_description"in this.objAttributes.subtitle?ce.makeHtml(strthis.objAttributes.subtitle.value_description):ce.makeHtml(this.objAttributes.subtitle.value))},objTemplate:function(){return"template"in this.objOneObject&&"groups"in this.objOneObject.template&&this.objOneObject.template.groups},objTemplateItemName:function(){return"template"in this.objOneObject&&"groups"in this.objOneObject.template&&this.objOneObject.template.groups},objAttrs:function(){var t=this;if(this.objAttrClean(),this.objTemplate&&this.objTemplate.forEach(function(e){var i,a;"attributes"in e&&(i=t.AttrList.used).push.apply(i,Object(h["a"])(e.attributes)),"actions"in e&&(a=t.AttrList.actused).push.apply(a,Object(h["a"])(e.actions))}),this.objAttributes)for(var e in this.objAttributes)this.AttrList.used.indexOf(e)<0&&this.AttrList.unused.push(e);if(this.objActions)for(var i in this.objOneObject.actions)this.AttrList.actused.indexOf(i)<0&&this.AttrList.actunused.push(i);return this.AttrList}}},ue=le,de=(i("54f3"),Object(y["a"])(ue,u,d,!1,null,"538abf9a",null));de.options.__file="object.vue";var he=de.exports,pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menu_main"},[t._m(0),i("br"),i("div",{staticClass:"menuAlign"},[i("b-button-group",{staticClass:"menu_btn_group",attrs:{vertical:""}},t._l(t.menuList,function(e){return i("b-button",{attrs:{block:"",variant:"outline-success lg"},domProps:{innerHTML:t._s(e.title)},on:{click:function(i){t.menuAct(e.key)}}})}),1)],1)])},be=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menuAlign"},[i("h2",[t._v("Меню")])])}],me=_(),fe={props:["list"],data:function(){return{}},methods:{menuAct:function(t){return this.$emit("objchange",t),!1}},computed:{menuList:function(){var t=[];return this.list.forEach(function(e){e.title?t.push({key:e.key,title:me.makeHtml(e.title)}):t.push({key:e.key,title:e.key})}),t}}},_e=fe,ve=(i("67ed"),Object(y["a"])(_e,pe,be,!1,null,"a9ee251e",null));ve.options.__file="menu.vue";var ge=ve.exports,je=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"stn_menu"},[i("div",{on:{click:t.stnSwitch}},[i("icon-stn",{class:t.stnStatus})],1),t.stnShow?i("div",{staticClass:"stn_main "},[i("div",{staticClass:"stn_box"},[i("div",{staticClass:"stnAlignV"},[i("h2",{staticClass:"stn_warning"},[t._v("Настройки!")]),i("br"),t._v("\n        Адрес сервера(host:port)\n        "),i("b-input",{attrs:{type:"text"},model:{value:t.stnLocalAddress,callback:function(e){t.stnLocalAddress=e},expression:"stnLocalAddress"}}),t._v("\n          "+t._s(t.stnLocalAddress)+"\n      ")],1),i("br"),i("div",{staticClass:"stnAlign"},[i("b-button-group",{staticStyle:{width:"300px"}},[i("b-button",{staticClass:"stnyesnobutton",staticStyle:{width:"150px"},attrs:{variant:"primary"},on:{click:t.stnActOk}},[t._v(" Ok! ")]),i("b-button",{staticClass:"stnyesnobutton",staticStyle:{width:"150px"},attrs:{variant:"danger"},on:{click:t.stnActCancel}},[t._v("Cancel")])],1)],1)])]):t._e()])},we=[],ke={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{id:"Layer_1",version:"1.1",viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{staticClass:"st0",attrs:{d:"M14.146 45.834a7.617 7.617 0 0 1 .002 10.843l-.002.003c-1.402 1.396-3.318 2.25-5.447 2.25s-4.037-.855-5.441-2.253a7.643 7.643 0 0 1 0-10.845v.002c1.404-1.398 3.312-2.255 5.441-2.255s4.041.86 5.447 2.255zm0-.002v.002h.002l-.002-.002zM3.258 56.68v-.003h-.002l.002.003zM1.006 20.721v11.078c7.23.002 14.068 2.843 19.186 7.969 5.117 5.108 7.945 11.957 7.957 19.214h.004V59h11.121c-.01-10.55-4.299-20.104-11.232-27.044-6.933-6.935-16.487-11.227-27.036-11.235zM1.025 1v11.071C26.871 12.088 47.881 33.13 47.898 59H59c-.006-15.988-6.506-30.475-17.008-40.984C31.486 7.511 17.008 1.006 1.025 1z",id:"RSS_2_"}})])}},ye={props:[],components:{"icon-stn":ke},data:function(){return{stnShow:!1,stnLocalAddress:""}},methods:Object(c["a"])({},Object(l["b"])(["connectServ"]),Object(l["d"])(["servAddressSet"]),{stnActOk:function(){return this.servAddressSet(this.stnLocalAddress),this.connectServ(),this.stnShow=!1,!1},stnActCancel:function(){return this.stnShow=!1,this.stnLocalAddress=this.stnAddress(),!1},stnAddress:function(){return this.socketGet.serverAddress},stnSwitch:function(){this.stnShow=!this.stnShow}}),mounted:function(){this.stnLocalAddress=this.stnAddress()},computed:Object(c["a"])({},Object(l["c"])(["socketGet"]),{stnStatus:function(){return this.socketGet.isConnected?"stn_icon_ok":"stn_icon_cancel"}})},Ce=ye,Oe=(i("a439"),Object(y["a"])(Ce,je,we,!1,null,"6db8732a",null));Oe.options.__file="settings.vue";var Se=Oe.exports,Ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"actor_main"},[i("div",{staticClass:"actorAlign"},[i("icon-6xright",{staticClass:"icon_6x"}),i("h2",{staticClass:"actor_title",domProps:{innerHTML:t._s(t.actorTitle)}}),i("icon-6xleft",{staticClass:"icon_6x"})],1),t.actorSubTitle?i("div",{staticClass:"actor_subtitle_div"},[i("h4",{staticClass:"actor_subtitle",domProps:{innerHTML:t._s(t.actorSubTitle)}})]):t._e(),i("div",{staticClass:"actor_drop_div"},[i("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.actorSelect,expression:"actorSelect"}],staticClass:"actor_drop",attrs:{text:"Выбрать...",variant:"secondary"}},t._l(t.actorsList,function(e){return i("b-dropdown-item-button",{staticClass:"actor_drop_item",domProps:{innerHTML:t._s(e.title)},on:{click:function(i){t.actorSet(e)}}})}),1)],1)])},xe=[],Me={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 27.25 60.19"}},[i("path",{staticClass:"cls-5",attrs:{d:"M27.25 0H0l6.5 5.47h20.75zM27.25 10.94H0l6.5 5.47h20.75zM27.25 21.88H0l6.5 5.48h20.75zM27.25 32.83H0l6.5 5.47h20.75zM27.25 43.77H0l6.5 5.48h20.75zM27.25 54.72H0l6.5 5.47h20.75z"}})])}},Te=_(),Le={props:[],components:{"icon-6xleft":Me,"icon-6xright":te},data:function(){return{}},methods:Object(c["a"])({},Object(l["d"])(["actorsActiveSet"]),{actorSet:function(t){this.actorsActiveSet(t.id)}}),computed:Object(c["a"])({},Object(l["c"])(["actorsGet"]),{actorsList:function(){var t=[];return this.actorsGet.list.forEach(function(e){"title"in e?t.push({id:e.id,title:Te.makeHtml(e.title)}):t.push({id:e.id,title:e.id})}),t},actorTitle:function(){if(""===this.actorsGet.active)return"Неизвестный...";for(var t=0;t<this.actorsGet.list.length;t++)if(this.actorsGet.active===this.actorsGet.list[t].id)return"title"in this.actorsGet.list[t]?Te.makeHtml(this.actorsGet.list[t].title):this.actorsGet.list[t].id;return""},actorSelect:function(){return""===this.actorsGet.active||1!=this.actorsList.length},actorSubTitle:function(){if(""!==this.actorsGet.active)for(var t=0;t<this.actorsGet.list.length;t++)if(this.actorsGet.active===this.actorsGet.list[t].id&&"subtitle"in this.actorsGet.list[t])return Te.makeHtml(this.actorsGet.list[t].subtitle);return""}})},qe=Le,Ee=(i("63ac"),Object(y["a"])(qe,Ae,xe,!1,null,"2a9b97ac",null));Ee.options.__file="actor.vue";var Ie=Ee.exports,He=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrn_main "},[i("div",{staticClass:"wrn_box"},[i("div",{staticClass:"wrnAlign"},[i("h1",{staticClass:"wrn_warning",domProps:{innerHTML:t._s(t.wrnTitle)}}),i("br")]),i("div",{staticClass:"wrnAlign"},[i("h2",{staticClass:"wrn_title",domProps:{innerHTML:t._s(t.wrnMessage)}})]),i("br"),i("div",{staticClass:"wrnAlign"},[i("b-button-group",{staticStyle:{width:"300px"}},[i("b-button",{staticClass:"wrnyesnobutton",staticStyle:{width:"150px"},attrs:{variant:"primary"},on:{click:t.wrnActOk}},[t._v(" ОК ")])],1)],1)])])},Ve=[],Ne=_(),$e={props:["title","message"],components:{},data:function(){return{}},methods:{wrnActOk:function(){return Ut.beforeHooks.length=0,this.$emit("done","ok"),!1}},computed:{wrnTitle:function(){return Ne.makeHtml(this.title)},wrnMessage:function(){return Ne.makeHtml(this.message)}}},Ge=$e,De=(i("e723"),Object(y["a"])(Ge,He,Ve,!1,null,"a67f8ba8",null));De.options.__file="warning2.vue";var ze=De.exports,Pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"spin_main"},[t.error?t._e():i("h2",{staticClass:"spin_note",domProps:{innerHTML:t._s(t.text)}}),i("br"),i("br"),t.error?i("h2",{staticClass:"spin_error",domProps:{innerHTML:t._s(t.error)}}):t._e(),i("br"),i("br"),t.error?t._e():i("s-spinner",{attrs:{size:"80px"}}),t.error?i("i-frown",{staticClass:"spin_frown"}):t._e()],1)},We=[],Re=i("d58b"),Be={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{d:"M256 56c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m0-48C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm64 136c-9.535 0-18.512 2.386-26.37 6.589h.017c12.735 0 23.059 10.324 23.059 23.059 0 12.735-10.324 23.059-23.059 23.059s-23.059-10.324-23.059-23.059v-.017C266.386 181.488 264 190.465 264 200c0 30.928 25.072 56 56 56s56-25.072 56-56-25.072-56-56-56zm-128 0c-9.535 0-18.512 2.386-26.37 6.589h.017c12.735 0 23.059 10.324 23.059 23.059 0 12.735-10.324 23.059-23.059 23.059-12.735 0-23.059-10.324-23.059-23.059v-.017C138.386 181.488 136 190.465 136 200c0 30.928 25.072 56 56 56s56-25.072 56-56-25.072-56-56-56zm171.547 201.782c-56.595-76.964-158.383-77.065-215.057-.001-18.82 25.593 19.858 54.018 38.67 28.438 37.511-51.01 100.365-50.796 137.717-.001 18.509 25.172 57.821-2.395 38.67-28.436z"}})])}},Fe={props:["text","error"],components:{"s-spinner":Re["a"],"i-frown":Be},data:function(){return{}}},Ue=Fe,Je=(i("c5f4"),Object(y["a"])(Ue,Pe,We,!1,null,"505f2093",null));Je.options.__file="spinner.vue";var Ke=Je.exports,Xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.objOneObject?t._e():i("div",{staticClass:"objAlign"},[t._v("Дождитесь загрузки объекта...")]),t.objOneObject?i("div",[t.objTitle?i("div",{staticClass:"objAlign"},[i("h2",{staticClass:"obj_title",domProps:{innerHTML:t._s(t.objTitle)}})]):t._e(),t.objSubTitle?i("div",{staticClass:"objAlign"},[i("h5",{staticClass:"obj_subtitle",domProps:{innerHTML:t._s(t.objSubTitle)}})]):t._e(),t.objTemplate?i("div",t._l(t.objTemplate,function(e){return i("div",{staticClass:"obj_templategroup"},[e.name?i("div",{staticClass:"objAlign"},[i("u",[i("p",{staticClass:"obj_templ_name",domProps:{innerHTML:t._s(e.name)}})])]):t._e(),e.attributes?i("div",t._l(e.attributes,function(e){return i("s-attribute",{attrs:{attr:t.objOneObject.attributes[e]}})}),1):t._e(),e.actions?i("div",t._l(e.actions,function(e){return i("button",{staticClass:"btn btn-outline-primary menu_action_btn lg",attrs:{disabled:t.objOneObject.actions[e].disabled},domProps:{innerHTML:t._s(t.objActionNameConv(e))},on:{click:function(i){t.objActSwitch(e,i)}}})}),0):t._e()])}),0):t._e(),t.objListObject?i("div",{staticClass:"obj_list"},[i("hr",{staticClass:"obj_list_hr"}),t.objListObjectLength?i("span",{staticClass:"objAlign2"},[t._v("Список пуст...")]):t._e(),t._l(t.objListObject,function(e,a){return i("div",{staticClass:"obj_list_el",on:{click:function(i){t.objActiveSet(e.id)}}},[i("in-object",{attrs:{objid:e,lkey:t.objOneObject.id+e.id+Math.random()}})],1)})],2):t._e(),t.actStat?i("s-action",{key:t.objOneObject.id+t.actid,attrs:{objid:t.objOneObject,actid:t.actid},on:{done:function(e){t.objActionDone()}}}):t._e(),t.wrnStat?i("s-warning",{attrs:{title:t.wrnMessage},on:{done:t.objWrnDone}}):t._e()],1):t._e()])},Qe=[],Ye=_(),Ze={props:["objid","small"],name:"in-object",components:{"s-attribute":O,"s-action":Yt,"s-warning":I},data:function(){return{AttrList:{used:["title","subtitle"],unused:[],actused:[],actunused:[]},actStat:!1,actid:!1,obj:this.objid,wrnStat:!1,wrnMessage:""}},created:function(){this.objAttrClean()},methods:Object(c["a"])({},Object(l["b"])(["sendAct","sendOpenList"]),{objAttrClean:function(){this.AttrList.used=["title","subtitle"],this.AttrList.unused=[],this.AttrList.actused=[],this.AttrList.actunused=[]},objActiveSet:function(t){this.sendOpenList({objid:this.obj.object.id,listid:t})},objActSwitch:function(t,e){return e.stopPropagation(),this.actid=t,"user_params"in this.objOneObject.actions[t]?(Ut.beforeEach(function(t,e,i){i(!1)}),this.actStat=!0):"warning"in this.objOneObject.actions[t]?(Ut.beforeEach(function(t,e,i){i(!1)}),this.wrnMessage=this.objOneObject.actions[t].warning,this.wrnStat=!0):(this.sendAct({actid:this.actid,obj:this.objOneObject}),this.actid=!1,this.actStat=!1),this.small&&this.$emit("done"),!1},objWrnDone:function(t){Ut.beforeHooks.length=0,this.wrnStat=!1,this.wrnMessage="","ok"===t&&this.sendAct({actid:this.actid,obj:this.objOneObject})},objActionDone:function(){return Ut.beforeHooks.length=0,this.actid=!1,this.actStat=!1,!1},objActionNameConv:function(t){return Ye.makeHtml(this.objOneObject.actions[t].name)}}),computed:{objOneObject:function(){return!!this.obj&&("object"in this.obj?this.obj.object:this.obj)},objListObject:function(){return"list"in this.obj&&"objects"in this.obj.list&&this.obj.list.objects},objListMore:function(){return"list"in this.obj&&"has_more"in this.obj.list&&this.obj.list.has_more},objListObjectLength:function(){return!(!this.objListObject||0!==this.objListObject.length)},objAttributes:function(){return"attributes"in this.objOneObject&&this.objOneObject.attributes},objActions:function(){return"actions"in this.objOneObject&&this.objOneObject.actions},objTitle:function(){return!!(this.objAttributes&&"title"in this.objAttributes)&&("value_description"in this.objAttributes.title?Ye.makeHtml(strthis.objAttributes.title.value_description):Ye.makeHtml(this.objAttributes.title.value))},objSubTitle:function(){return!!(this.objAttributes&&"subtitle"in this.objAttributes)&&("value_description"in this.objAttributes.title?Ye.makeHtml(strthis.objAttributes.title.value_description):Ye.makeHtml(this.objAttributes.title.value))},objTemplate:function(){return"template"in this.objOneObject&&"groups"in this.objOneObject.template&&this.objOneObject.template.groups},objTemplateItemName:function(){return"template"in this.objOneObject&&"groups"in this.objOneObject.template&&this.objOneObject.template.groups},objAttrs:function(){var t=this;if(this.objAttrClean(),this.objTemplate&&this.objTemplate.forEach(function(e){var i,a;"attributes"in e&&(i=t.AttrList.used).push.apply(i,Object(h["a"])(e.attributes)),"actions"in e&&(a=t.AttrList.actused).push.apply(a,Object(h["a"])(e.actions))}),this.objAttributes)for(var e in this.objAttributes)this.AttrList.used.indexOf(e)<0&&this.AttrList.unused.push(e);if(this.objActions)for(var i in this.objOneObject.actions)this.AttrList.actused.indexOf(i)<0&&this.AttrList.actunused.push(i);return this.AttrList}}},ti=Ze,ei=(i("c2b4"),Object(y["a"])(ti,Xe,Qe,!1,null,"1a95d432",null));ei.options.__file="menuobject.vue";var ii=ei.exports,ai={functional:!0,render:function(t,e){var i=e._c;return i("svg",{class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 39.94 335.57"}},[i("path",{staticClass:"cls-16",attrs:{"stroke-width":"2",fill:"rgba(51,153,255,.11)",stroke:"rgba(51,153,255,.75)",d:"M0 335.57V0h0l39.94 39.94v255.7L0 335.57h0z"}}),i("path",{staticClass:"cls-5",attrs:{fill:"#39f",d:"M19.97 78.92l7.5 16v16l-15-32 15-32v16zM19.97 169.23l7.5 16v16l-15-32 15-32v16zM19.97 259.54l7.5 16v16l-15-32 15-32v16z"}})])}},si={name:"app",components:{"main-object":he,"main-menu":ge,"main-settings":Se,"main-actors":Ie,"main-spinner":Ke,"main-menu2":ii,"main-warning":ze,"s-svg1":ai,"s-svg2":Zt},data:function(){return{main_sw_stat:!0,testwh:"",main_vw:0,main_sw_small:!0,menu_class:"main_screen_outer_box_left",object_class:"main_screen_outer_box_right",main_screen_inner_box_padding:"padding-left:0px;",decor:!0}},methods:Object(c["a"])({},Object(l["d"])(["objActiveSet","warningReset"]),Object(l["b"])(["sendSubscrWait"]),{menuAct:function(t){this.$router.push("/"+t)},mainWrnDone:function(){this.warningReset()},main_sw_change:function(){this.main_sw_stat=!this.main_sw_stat},mainWinWidth:function(){this.testwh="W: "+this.main_vw,this.main_vw<768?(this.menu_class="main_screen_outer_box_left_small",this.object_class="main_screen_outer_box_right_small",this.decor=!1,!0===this.main_sw_stat?this.main_sw_small=!1:this.main_sw_small=!0):(this.menu_class="main_screen_outer_box_left",this.object_class="main_screen_outer_box_right",this.decor=!0,this.main_sw_small=!0),!0===this.main_sw_stat?this.main_screen_inner_box_padding="padding-left:0px":this.main_screen_inner_box_padding="padding-left:3.6vh;"}}),mounted:function(){var t=this;this.$nextTick(function(){t.main_vw=window.innerWidth,window.addEventListener("resize",function(){t.main_vw=window.innerWidth})})},watch:{main_vw:{handler:function(){this.mainWinWidth()},deep:!0},main_sw_stat:{handler:function(){this.mainWinWidth()},deep:!0},$route:function(t,e){!this.socketGet.wait.req&&this.socketGet.isConnected&&this.actorsGet.active.length>0&&void 0!==this.allObjects[this.actorsGet.active]&&("/"===t.path&&this.$router.replace(this.actorsGet.active),void 0===this.allObjects[t.path.substring(1,t.path.length)]&&this.sendSubscrWait(t.path.substring(1,t.path.length)))}},beforeRouteUpdate:function(t,e,i){alert("AHA! "+this.main_vw),i()},computed:Object(c["a"])({},Object(l["c"])(["menuObjects","menuObject","socketGet","routerPath","oneObject","actorsGet","allObjects","warningGet"]),{mainRouterPath:function(){return o()(this.routerPath)},main_xl:function(){return this.main_sw_stat?3:0},main_lg:function(){return this.main_sw_stat?4:0},main_md:function(){return this.main_sw_stat?5:0}})},ni=si,ri=(i("034f"),i("60a5"),Object(y["a"])(ni,s,n,!1,null,"45213f66",null));ri.options.__file="App.vue";var oi=ri.exports,ci=i("9f7b"),li=i("31bd"),ui=i("5176"),di=i.n(ui),hi=i("4c17"),pi=i.n(hi);function bi(){return{object:{id:"babcom_web_0",attributes:{title:{value:"Ваш статус",hidden:!1},subtitle:{value:"Тут вам дается возможность перераспределить ваши копеечки.",hidden:!1},type:{value:"income_distribution",hidden:!0},health_level:{value:"3",name:"Тест!",value_description:"Серебрянный статус - обслуживание в больницах на стандартном оборудовании.",hidden:!1},living_level:{value:"2",value_description:"Бронзовый статус - можете находиться на станции.",hidden:!1},fun_level:{value:"5",value_description:"Золотой статус - вам рады во всех развлекательных заведениях Паллады",hidden:!1},police_level:{value:"5",value_description:"Бронзовый статус - вам не стоит рассчитывать на особое отношение сотрудников Star Helix",hidden:!1},adm_level:{value:"5",value_description:"Бронзовый статус - ваши жалобы будет рассматривать автоматическая система судопроизводства",hidden:!1},free_points:{name:"Свободные деньги",value:"300 UND",hidden:!1}},actions:{donate:{code:"donate",name:"Перераспределить",disabled:!1,warning:"Мировое котоправительство следит за вами. Вы уверены?",params:{},user_params:[{code:"message",description:"Что вы думаете о котиках?",type:"string",restrictions:{max_length:300,multiline:!0,min_length:10},default_value:"Пусть этот скромный подарок послужит \nна благо всем нуждающимся"},{code:"message2",description:"~~Сообщение для фонда нищих и обездоленных~~",type:"string",restrictions:{max_length:300,multiline:!1,min_length:10},default_value:"Пусть этот скромный подарок послужит на благо всем нуждающимся"},{code:"count",description:"~~Количество отправляемых очков 444444444 444444444444 44444444444444 4444444444 44444~~",type:"integer",default_value:5,restrictions:{min_value:1,max_value:10}},{code:"customs",description:"~~Таможня~~",type:"float",restrictions:{min_value:1,max_value:10}}]},health_plus:{code:"level_change",name:"Плюс",disabled:!1,params:{level_type:"health",change:"+"}},health_minus:{code:"level_change",name:"Минус",disabled:!1,warning:"На уровне ниже среднего помощь оказывается только в критических ситуациях. Вы действительно хотите понизить уровень медицинского обслуживания?",params:{level_type:"health",change:"-"}},social_plus:{code:"level_change",name:"Плюс",disabled:!1,params:{level_type:"social",change:"+"}},social_minus:{code:"level_change",name:"Мииииинус",disabled:!1,warning:"На низком уровне ваши заявления не будут обрабатываться. Вы уверены?",params:{level_type:"social",change:"-"}},fun_plus:{code:"level_change",name:"Плююююююююююююс",disabled:!0},fun_minus:{code:"level_change",name:"Миииииииииииииинус",disabled:!1,params:{level_type:"fun",change:"-"}},not_in_template1:{code:"test",name:"Button1",disabled:!1},not_in_template2:{code:"test",name:"Button2",disabled:!1}},template:{groups:[{name:"Административное обслуживание",attributes:["adm_level"]},{name:"Медицинское обслуживание",attributes:["health_level"]},{name:"Развлечения",attributes:["fun_level"]},{name:"Жизнеобеспечение",attributes:["living_level"]},{name:"Полиция",attributes:["police_level"]},{actions:["donate"]}]}}}}function mi(){return{object:{id:"babcom_web_1",attributes:{title:{value:"Новости",hidden:!1},subtitle:{value:"Сегодня на астероиде!",hidden:!1},type:{value:"transaction_list",hidden:!0}}},list:{objects:[{id:"6137580d-67ac-46a6-9276-e2a26c8ce97a",attributes:{subtitle:{name:"John Snow",value:"Однажды, в студеную зимнюю пору я из лесу вышел, был сильный мороз.",hidden:!1},title:{value:"Случай в лесу",hidden:!1}},actions:{plus:{code:"level_change",name:"Like it!",disabled:!1,params:{}}},template:{groups:[{actions:["plus"]}]}},{id:"6137580d-67ac-46a6-9276-e2a26c8ce97b",attributes:{subtitle:{name:"",value:"Знайка шел гулять на речку, перепрыгнул через овечку.",hidden:!1},title:{value:"Купание с овцой",hidden:!1}},actions:{plus:{code:"level_change",name:"Like it!",disabled:!1,params:{}}},template:{groups:[{actions:["plus"]}]}}]}}}a["a"].use(l["a"]);var fi=new l["a"].Store({state:{client_id:"",objActive:"0",data:{},actors:{active:"",list:[]},warning:{stat:!1,title:"",message:""},socket:{request_id:0,wait:{req:!1,note:"",error:!1,id:!1,type:"",message:"",show:!1},serverAddress:"localhost:8000",isConnected:!1,message:"",reconnectError:!1}},getters:{socketGet:function(t){return t.socket},actorsGet:function(t){return t.actors},warningGet:function(t){return t.warning},oneObject:function(t){return t.route.path.substring(1,t.route.path.length)in t.data&&t.data[t.route.path.substring(1,t.route.path.length)]},allObjects:function(t){return t.data},menuObject:function(t){return"menu"in t.data&&{key:Math.random(),obj:t.data.menu}},routerPath:function(t){return t.route}},mutations:{warningReset:function(t){t.warning.stat=!1,t.warning.title="",t.warning.message=""},sockReqIdIncr:function(t){t.socket.request_id++},sockWaitSet:function(t,e){"req"in e&&(t.socket.wait.req=e.req),"note"in e&&(t.socket.wait.note=e.note),"error"in e&&(t.socket.wait.error=e.error),"id"in e&&(t.socket.wait.id=e.id),"type"in e&&(t.socket.wait.type=e.type),"message"in e&&(t.socket.wait.message=e.message),"show"in e&&(t.socket.wait.show=e.show)},servAddressSet:function(t,e){t.socket.serverAddress=e},actorsActiveSet:function(t,e){console.log("! "+e),t.data=di()({}),t.actors.active=e,localStorage.actorActive=e},dataListFill:function(t,e){var i=JSON.parse(e).list.objects,a={};for(var s in i)a[i[s].id]={object:i[s]};t.data=di()({},t.data,a)},dataFill:function(t,e){var i=e,a={};a[i.object.id]=i,t.data=di()({},t.data,a)},dataDel:function(t,e){delete t.data[e]},actorsFill:function(t,e){t.actors.list=[].concat(e);var i="";if(""!==t.actors.active){i=t.actors.active;for(var a=0;a<t.actors.list.length;a++)if(i===t.actors.list[a].id)return fi.dispatch("sendSetActor",i),!0}if(localStorage.actorActive&&""!==localStorage.actorActive){i=localStorage.actorActive;for(var s=0;s<t.actors.list.length;s++)if(i===t.actors.list[s].id)return fi.dispatch("sendSetActor",i),!0}if(1===t.actors.list.length)return fi.dispatch("sendSetActor",t.actors.list[0].id),!0;localStorage.actorActive="",t.actors.active=""},parSet:function(t,e){var i,s=e.obj.actions[e.actid];if("valid"in s)return!1;if("user_params"in s)for(i in a["a"].set(s,"valid",0),s.user_params)a["a"].set(s.user_params[i],"value",NaN),a["a"].set(s.user_params[i],"valid",0);else a["a"].set(s,"valid",1);return!0},parChange:function(t,e){var i,a=e.objInfo.obj.actions[e.objInfo.actid],s=1;for(i in a.user_params)a.user_params[i].code==e.data.code&&(a.user_params[i].value=e.data.value,a.user_params[i].valid=e.data.valid),s*=a.user_params[i].valid;a.valid=s},SOCKET_ONOPEN:function(t,e){a["a"].prototype.$socket=e.currentTarget,console.log("OPEN!"),t.socket.isConnected=!0,fi.dispatch("sendGetActors")},SOCKET_ONCLOSE:function(t,e){console.log("CLOSE!"),t.socket.isConnected=!1},SOCKET_ONERROR:function(t,e){console.error(t,e)},SOCKET_RECONNECT:function(t,e){console.log("RECONNECT!")},SOCKET_RECONNECT_ERROR:function(t){console.log("RECONNECT_ERROR!"),t.socket.reconnectError=!0},gotError:function(t,e){console.log("Ошибка: "+t.socket.wait.message),fi.commit("sockWaitSet",{error:"ОШИБКА! Обратитесь к мастеру!<br>Sent: "+t.socket.wait.message+"<br>Got: "+o()(e)}),clearTimeout(t.socket.wait.id)},gotOk:function(t){clearTimeout(t.socket.wait.id),fi.commit("sockWaitSet",{req:!1,id:!1,type:"",error:!1,note:"",message:"",show:!1})},replyObject:function(t,e){fi.commit("dataFill",e.data);var i=t.route.path.substring(1,t.route.path.length),a=t.route.from.path.substring(1,t.route.from.path.length);i!==e.data.object.id&&"menu"!=e.data.object.id&&"notifications"!=e.data.object.id&&Ut.replace("/"+e.data.object.id),""!==a&&a!==t.actors.active&&"menu"!=a&&"notifications"!=a&&a in t.data&&(fi.dispatch("sendUnSubscr",a),fi.commit("dataDel",a)),e.data.object.id===t.actors.active&&(fi.dispatch("sendSubscr","menu"),fi.dispatch("sendSubscr","notifications"))},replyAction:function(t,e){"go_back"===e.data.action&&Ut.go(-1),"open_object"===e.data.action&&Ut.push("/"+e.data.action_data.object_id),"show_message"===e.data.action&&(console.log("WARNING!"),Ut.beforeEach(function(t,e,i){i(!1)}),e.data.action_data.title&&(t.warning.title=e.data.action_data.title),e.data.action_data.message&&(t.warning.message=e.data.action_data.message),t.warning.stat=!0)},replyObjectList:function(t,e){var i=t.route.path.substring(1,t.route.path.length);return i in t.data&&"list"in t.data[i]&&("objects"in t.data[i].list&&e.data.list.objects.forEach(function(e){t.data[i].list.objects.push(e)}),"has_more"in t.data[i].list&&(t.data[i].list.has_more=e.data.list.has_more)),!0},replyDiff:function(t,e){if(e.data.object_id in t.data){if("object"in e.data){if(null===e.data.object)return Ut.replace("/not_found"),!0;t.data[e.data.object_id].object=di()({},e.data.object)}if("list_changes"in e.data){"list"in t.data[e.data.object_id]||a["a"].set(t.data[e.data.object_id],"list",{}),"objects"in t.data[e.data.object_id].list||a["a"].set(t.data[e.data.object_id].list,"objects",[]);var i,s,n=t.data[e.data.object_id].list.objects;"remove"in e.data.list_changes&&(i=e.data.list_changes.remove,i.forEach(function(t){for(s=0;s<n.length;s++)if(n[s].id===t){n.splice(s,1);break}})),"add"in e.data.list_changes&&(i=e.data.list_changes.add,i.forEach(function(t){if("position"in t){for(s=0;s<n.length;s++)if(n[s].id===t.position){n.splice(s,0,t.object);break}}else n.splice(n.length,0,t.object)})),"change"in e.data.list_changes&&(i=e.data.list_changes.change,i.forEach(function(t){for(s=0;s<n.length;s++)if(n[s].id===t.id){n.splice(s,1,t);break}}))}}},SOCKET_ONMESSAGE:function(t,e){t.socket.message=e;var i=JSON.parse(v(o()(e)));if(console.log("Message:\n"+o()(i)),"request_id"in i&&i.request_id===t.socket.wait.req){if("error"===i.type)return fi.commit("gotError",i),!0;if("actors"===t.socket.wait.type)return fi.commit("gotOk"),fi.commit("actorsFill",i.data.actors),!0;if("set_actor"===t.socket.wait.type)return fi.commit("actorsActiveSet",JSON.parse(t.socket.wait.message).data.actor_id),fi.commit("gotOk"),fi.dispatch("sendSubscrWait",t.actors.active),!0;if("object_list"===i.type)return fi.commit("gotOk"),fi.commit("replyObjectList",i),!0;if("make_action"===t.socket.wait.type||"open_list_object"===t.socket.wait.type)return fi.commit("gotOk"),"action"===i.type&&fi.commit("replyAction",i),"actors"===i.type?(fi.commit("actorsFill",i.data.actors),!0):"diff"!==i.type||(fi.commit("replyDiff",i),!0);if("subscribe"===t.socket.wait.type)return fi.commit("gotOk"),fi.commit("replyObject",i),!0}return"actors"===i.type?(fi.commit("gotOk"),fi.commit("actorsFill",i.data.actors),!0):"diff"===i.type?(fi.commit("replyDiff",i),!0):"object"===i.type?(console.log("SUBSCRIBE: "+i.data.object.object_id),fi.commit("replyObject",i),!0):void 0}},actions:{connectServ:function(t){var e;console.log("!!!!!"),a["a"].prototype.$disconnect(),localStorage.client_id?e=localStorage.client_id:(e=pi()(),localStorage.client_id=e,console.log(e)),setTimeout(function(){a["a"].prototype.$connect("ws://"+fi.getters.socketGet.serverAddress+"/api/"+e,{store:fi,format:"json",reconnection:!0})},1e3)},sendGetActors:function(t){var e=o()({request_id:fi.getters.socketGet.request_id.toString(),type:"get_actors",data:{}});fi.dispatch("waitAnswer",{req:fi.getters.socketGet.request_id.toString(),note:"Скачиваем список  пользователей...",error:"ОШИБКА! Нет ответа! Обратитесь к мастеру! <br>"+e,type:"actors",message:e}),console.log("Sent: "+e),a["a"].prototype.$socket.send(e),fi.commit("sockReqIdIncr")},waitAnswer:function(t,e){fi.commit("sockWaitSet",{req:e.req,note:e.note,error:!1,type:e.type,message:e.message,id:setTimeout(function(){fi.commit("sockWaitSet",{show:!0,id:setTimeout(function(){fi.commit("sockWaitSet",{error:e.error})},5e3)})},1e3)})},sendSetActor:function(t,e){var i=o()({request_id:fi.getters.socketGet.request_id.toString(),type:"set_actor",data:{actor_id:e}});fi.dispatch("waitAnswer",{req:fi.getters.socketGet.request_id.toString(),note:"Устанавлвиаем пользователя...",error:"ОШИБКА! Нет ответа! Обратитесь к мастеру! <br>"+i,type:"set_actor",message:i}),console.log("Sent: "+i),a["a"].prototype.$socket.send(i),fi.commit("sockReqIdIncr")},sendSubscrWait:function(t,e){var i=o()({request_id:fi.getters.socketGet.request_id.toString(),type:"subscribe",data:{object_id:e}});console.log("Sent: "+i),fi.dispatch("waitAnswer",{req:fi.getters.socketGet.request_id.toString(),note:"Подписка...",error:"ОШИБКА! Нет ответа! Обратитесь к мастеру! <br>"+i,type:"subscribe",message:i}),a["a"].prototype.$socket.send(i),fi.commit("sockReqIdIncr")},sendAskMore:function(t,e){console.log("ASKED: "+e);var i=o()({request_id:fi.getters.socketGet.request_id.toString(),type:"get_more",data:{object_id:e}});console.log("Sent: "+i),fi.dispatch("waitAnswer",{req:fi.getters.socketGet.request_id.toString(),note:"Запрос продолжения списка...",error:"ОШИБКА! Нет ответа! Обратитесь к мастеру! <br>"+i,type:"object_list",message:i}),a["a"].prototype.$socket.send(i),fi.commit("sockReqIdIncr")},sendOpenList:function(t,e){var i=o()({request_id:fi.getters.socketGet.request_id.toString(),type:"open_list_object",data:{object_id:e.objid,list_object_id:e.listid}});console.log("Sent: "+i),fi.dispatch("waitAnswer",{req:fi.getters.socketGet.request_id.toString(),note:"Подписка на объект списка...",error:"ОШИБКА! Нет ответа! Обратитесь к мастеру! <br>"+i,type:"open_list_object",message:i}),a["a"].prototype.$socket.send(i),fi.commit("sockReqIdIncr")},sendSubscr:function(t,e){var i=o()({request_id:fi.getters.socketGet.request_id.toString(),type:"subscribe",data:{object_id:e}});console.log("Send: "+i),a["a"].prototype.$socket.send(i),fi.commit("sockReqIdIncr")},sendUnSubscr:function(t,e){var i=o()({request_id:fi.getters.socketGet.request_id.toString(),type:"unsubscribe",data:{object_id:e}});console.log("Send: "+i),a["a"].prototype.$socket.send(i),fi.commit("sockReqIdIncr")},sendAct:function(t,e){var i=e.obj.actions[e.actid],s={request_id:t.getters.socketGet.request_id.toString(),type:"make_action",data:{action_code:i.code,params:i.params}};"user_params"in i&&(s.data.user_params={},i.user_params.forEach(function(t){s.data.user_params[t.code]=t.value}));var n=o()(s);t.dispatch("waitAnswer",{req:t.getters.socketGet.request_id.toString(),note:"Делаем действие...",error:"ОШИБКА! Нет ответа! Обратитесь к мастеру! <br>"+n,type:"make_action",message:n}),console.log("Sent: "+n),a["a"].prototype.$socket.send(n),t.commit("sockReqIdIncr")}},strict:!1});fi.commit("dataFill",JSON.parse(o()(bi()))),fi.commit("dataFill",JSON.parse(o()(mi()))),fi.commit("dataListFill",o()(mi()));var _i=i("b408"),vi=i.n(_i);a["a"].use(ci["a"]),a["a"].use(vi.a,"ws://123",{connectManually:!0});Object(li["sync"])(fi,Ut);new a["a"]({el:"#app",store:fi,router:Ut,render:function(t){return t(oi)}}),fi.getters.socketGet.serverAddress.length>0&&fi.dispatch("connectServ"),window.onclick=function(t){if("a"==t.target.localName&&"babcom:"===t.target.href.substring(0,7))return Ut.push(t.target.href.substring(7,t.target.href.length)),!1},document.onkeypress=function(t){if("INPUT"!=t.target.nodeName.toUpperCase())return 8!=t.keyCode}},"5acf":function(t,e,i){"use strict";var a=i("e8cf"),s=i.n(a);s.a},"60a5":function(t,e,i){"use strict";var a=i("37fb"),s=i.n(a);s.a},"63ac":function(t,e,i){"use strict";var a=i("4772"),s=i.n(a);s.a},"64a9":function(t,e,i){},"67ed":function(t,e,i){"use strict";var a=i("1b8f"),s=i.n(a);s.a},"75ab":function(t,e,i){},8938:function(t,e,i){},"8aa3":function(t,e,i){},"8ed1":function(t,e,i){},"9c19":function(t,e,i){"use strict";var a=i("d130"),s=i.n(a);s.a},"9cde":function(t,e,i){"use strict";var a=i("8938"),s=i.n(a);s.a},"9e46":function(t,e,i){},a03d:function(t,e,i){},a439:function(t,e,i){"use strict";var a=i("a03d"),s=i.n(a);s.a},b3db:function(t,e,i){},b58f:function(t,e,i){"use strict";var a=i("8aa3"),s=i.n(a);s.a},bea2:function(t,e,i){"use strict";var a=i("00c4"),s=i.n(a);s.a},c2b4:function(t,e,i){"use strict";var a=i("4a5e"),s=i.n(a);s.a},c5f4:function(t,e,i){"use strict";var a=i("75ab"),s=i.n(a);s.a},d130:function(t,e,i){},e723:function(t,e,i){"use strict";var a=i("b3db"),s=i.n(a);s.a},e8cf:function(t,e,i){},eaf1:function(t,e,i){},fa43:function(t,e,i){"use strict";var a=i("8ed1"),s=i.n(a);s.a},fb5f:function(t,e,i){},fe16:function(t,e,i){"use strict";var a=i("564e"),s=i.n(a);s.a}});
//# sourceMappingURL=app.cfa52fed.js.map